---
layout: single
title: "첫 회사 회고 4"
categories: [diary]
tag: [life]
toc: true
---

# 메인 서비스 query문 파악

백오피스의 api를 어느 정도 개발을 마무리 한 후, 메인 서비스에 대한 api의 이해를 돕기 위해 query문을 확인을 했다. 자잘자잘한 상세 페이지 수정 및 리스트 수정 등을 수정을 하면서, query문이 어떻게 동작을 하는지 에 대한 이해가 되었다.

# 신품 가격 비교

중고 거래다 보니 이 제품이 신품과 얼마나 싼 가격에 판매를 하고 있는지에 대해 알려주면 유저들도 가격을 조정을 하고, 구매를 돕지 않을까 라는 생각을 했다. 그래서 이 부분을 개발을 하기로 했다.

# 기획

우선 신품에 대한 정보를 받아와야 한다. 신품의 정보를 바탕으로 우리가 저장한 제품과 비교를 해야 하기 때문이다. 크롤링을 한 뒤, 크롤링 한 제품의 한글 명과 영문 명을 바탕으로 우리가 저장한 제품의 이름과의 매치를 하는 것이 중요했다. 이렇게 매치를 했다면, 가장 유사도가 높은 것을 선택을 하여 신품 가격을 설정을 해주는 것이다. 그렇게 된다면, 메인 서비스에서 유저가 올린 가격과 신품 가격의 차이를 보여줄 수 있게 된다.

## 신품 크롤링

이 부분은 내가 맡지 않았고, 사수가 맡아서 해줬다. 원래 데이터 분석으로 들어왔었어서, 익숙하다고 해서 이 부분은 사수가 맡기로 하였다.

## 신품 이름 매칭

신품 이름을 매칭을 하기 위해, 크롤링된 데이터의 이름을 살펴 보았다. 그런데 사이트마다 각기 다른 이름으로 지정을 한 곳이 있어서 이 부분에 대해서 조금 힘들었었다.
처음에는 like을 사용하여 하려고 했었으나, 유사한 데이터들이 보이지 않아서 유사도를 파악해주는 postgresql의 function을 사용하여, 가중치를 줘서 매치를 시켜주었다.

## 신품 가격

제품 마다 신품 가격을 지정을 해주면, 메인 서비스에서 판매글 리스트를 불러주는 api에 신품 가격을 붙혀서 보내줬고, 가격의 차이는 프론트 단에서 처리를 하도록 했다.

# 느낀점

메인 서비스에 제대로된 기능을 붙혀서 너무 기뻤다. 이제 나도 회사에 도움이 되고 있구나 라는 것을 느꼈다.
또한 이 기능을 붙히면서, 신품 가격과 판매글 가격의 차이를 계산하는 것을 어디서 해야 할까? 라는 고민을 많이 했다.
프론트에서 계산을 해주는 것이 맞는가, 백엔드 단에서 해주는 것이 맞는가. 이러한 것들이 고민이 되었었다.

앞으로 개발을 하면서, 가격 비교와 같은 것들을 어디서 처리를 해주는 것이 맞을까 라는 고민을 많이 하게 될 것 같다.
서버에서 처리를 해줬을 때의 성능 저하가 얼마나 되는지, 프론트 단에서 처리를 해줬을 경우 성능 저하가 얼마나 되는지를 프론트 개발자와 상의를 해야겠다는 생각이 들었다.
지금 같은 것들은 사소한 부분이지만, 이러한 것들이 점차 쌓이게 된다면 서비스 전체의 성능의 저하가 있을 수 있기 때문에, 상의를 하며 정해야 겠다.
